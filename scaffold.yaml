# YAML anchors for reusable values
license-options: &license-options
  - "MIT"
  - "Apache-2.0"
  - "BSD-3-Clause"
  - "BSD-2-Clause"
  - "ISC"
  - "Unlicense"
  - "CC0-1.0"

messages:
  pre: |
    # SHEFT Stack generator

    > **S**olidity **H**ardhat **E**thers **F**oundry **T**askfile

    ## CLI tool which generates and prepares a new Solidity project using the following tools:
    - Foundry
    - Hardhat and ethers
    - Taskfile
    - Local keychain using foundry cast

    ---

    **NOTE:** You will be prompted for dev wallet password at project initialization. If you want to skip the prompt, provide the password as SHEFT_NEW_WALLET_PW_RAW env var for scaffold.

    **NOTE:** You need the following dependencies installed:
    - [bun](https://bun.com/docs/installation)
    - [foundry](https://getfoundry.sh/introduction/installation)
    - [taskfile](https://taskfile.dev/installation/)
  post: |
    # Your SHEFT project has been buidlth!

    > `cd "{{.Project}}"`

    You can now run the following commands:

    - `task test:all` - Runs both Foundry and Hardhat tests.
    - `task test -- --mc Token` - Only run the Foundry test for the `Token` contract.
    - `task wallet:import:pk -- myseed` - Import your own private key to local keychain.

    Make sure to take a look at the `Taskfile.yaml` for further insight into available tasks.

questions:
  - name: description
    required: true
    prompt:
      message: Description of the project
      description: This will be the next trend!
      multi: true
  - name: solc_version
    validate:
      match:
        regex: '^\d{1,3}\.\d{1,3}\.\d{1,3}$'
        message: Invalid Solidity version
    prompt:
      message: Solidity version
      default: "0.8.24"
  - name: evm_version
    prompt:
      message: EVM version
      default: prague
      options:
        - prague # 2025
        - cancun # 2024
        - shanghai # 2023
        - paris # 2022
        - london # 2021
        - berlin # 2021
        - istanbul # 2019
        - petersburg # 2019
  - name: js_package_manager
    prompt:
      message: JavaScript package manager and runtime
      default: bun
      options:
        - bun
        - node/npm
  - name: license
    prompt:
      message: License of the project
      default: "MIT"
      options: *license-options
  - name: use_husky_commitlint
    prompt:
      confirm: Use Husky and Commitlint?
      default: true
  - name: should_package
    prompt:
      confirm: Use sub-npm-package for exporting typechain and other TS sources?
      default: true
      description: |
        Yes – ./package subdirectory as npm package, re-exporting typechain and default TS sources  
        No  – No ./package subdirectory
  - name: package_name
    when: "{{.should_package}}"
    prompt:
      message: Package name for the SDK
      default: "package-sdk"
      description: Name of the npm package
  - name: package_repo
    when: "{{.should_package}}"
    prompt:
      message: Package repository URL
      default: "none"
      description: Repository URL for the package
  - name: package_license
    when: "{{.should_package}}"
    prompt:
      message: License of the package SDK
      default: "Unlicense"
      options: *license-options

computed:
  gitignore: .gitignore
  gitmodules: .gitmodules
  vscode: .vscode
  prettierrc: .prettierrc

delimiters:
  - glob: "Taskfile.yaml"
    left: "[["
    right: "]]"

presets:
  sandbox:
    Project: sandbox
    description: "next pump is here"
    solc_version: 0.8.24
    evm_version: prague
    use_husky_commitlint: false
    license: MIT
    should_package: true
    package_name: none
    package_repo: none
    package_license: MIT
